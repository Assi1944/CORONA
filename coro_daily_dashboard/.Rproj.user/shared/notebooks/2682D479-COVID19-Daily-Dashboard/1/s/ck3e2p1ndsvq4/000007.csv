"0","first_color <- colorFactor(palette = c(""red"", ""blue""), levels = c(TRUE, FALSE))"
"0",""
"0","new_week_labels <- function(df) {"
"0","  labs <- lapply(seq(nrow(df)), function(i) {"
"0","    paste0("
"0","      ""Country: "", df[i, ""Country_Region""], ""<br> "","
"0","      ""Province: "", df[i, ""Province_State""], ""<br>"","
"0","      ""Week Count: "", df[i, ""Weekly_Count""], ""<br>"","
"0","      ""First Case: "", df[i, ""First_Case""], ""<br>"","
"0","      ""Date: "", df[i, ""Date""]"
"0","    )"
"0","  })"
"0","}"
"0",""
"0","leaflet(data = new_cases_week, width = ""100%"") %>%"
"0","  addTiles() %>%"
"0","  addCircleMarkers("
"0","    lat = ~Lat,"
"0","    lng = ~Long,"
"0","    radius = ~ log(Count) / 1.25,"
"0","    label = lapply(new_week_labels(new_cases_week), htmltools::HTML),"
"0","    color = ~ first_color(First_Case)"
"0","  ) %>%"
"0","  addLegend(""bottomright"","
"0","    pal = first_color, values = ~First_Case,"
"0","    title = ""First Case (Week)"","
"0","    opacity = 0.75"
"0","  )"
