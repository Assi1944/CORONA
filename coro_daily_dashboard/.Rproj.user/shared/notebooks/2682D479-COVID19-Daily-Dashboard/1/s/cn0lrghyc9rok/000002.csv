"0","first_and_new_cases <- function(cv, days) {"
"0","  high_date <- sort(cv$Date, decreasing = TRUE)[1] - 1"
"0","  cv <- cv %>% "
"0","    filter(Status == ""Confirmed"", !is.na(Count))"
"0","  cv$First_Case <- FALSE"
"0",""
"0","  for (x in seq(1, nrow(cv))) {"
"0","    if ("
"0","      (cv$Date[x] == high_date) &&"
"0","        (cv$Count[x - days] == 0) &&"
"0","        (cv$Count[x] > 0)"
"0","    ) {"
"0","      cv$First_Case[x] <- TRUE"
"0","    }"
"0","  }"
"0",""
"0","  new_cases_df <- filter(cv, Date == high_date)"
"0",""
"0","  if (days == 1) {"
"0","    new_cases_df <- filter(new_cases_df, Daily_Count > 0)"
"0","  }"
"0","  else if (days == 7) {"
"0","    new_cases_df <- filter(new_cases_df, Weekly_Count > 0)"
"0","  }"
"0",""
"0","  return(new_cases_df)"
"0","}"
"0",""
"0","new_cases_day <- first_and_new_cases(cv, 1)"
"0","new_cases_week <- first_and_new_cases(cv, 7)"
